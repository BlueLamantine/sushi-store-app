(this["webpackJsonpsushi-store-app"]=this["webpackJsonpsushi-store-app"]||[]).push([[0],[,,,,function(e,t,n){e.exports={"cart-items":"Cart_cart-items__3J68m",total:"Cart_total__3swdR",actions:"Cart_actions__1fzFz","button--alt":"Cart_button--alt__itR_m",button:"Cart_button__nfsoS"}},function(e,t,n){e.exports={"cart-item":"CartItem_cart-item__P3bGi",summary:"CartItem_summary__3inEq",price:"CartItem_price__2Uinq",amount:"CartItem_amount__2GGpO",actions:"CartItem_actions__2tajg"}},,,,function(e,t,n){e.exports={backdrop:"Modal_backdrop__h8HSF",modal:"Modal_modal__33KSp","slide-down":"Modal_slide-down__1jldE"}},,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(6),a=n.n(c),s=(n(16),n(3)),i=n(1),r=n.n(i),o=r.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),l=n(0),m=function(e){return Object(l.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"shopping-cart",className:"fa-shopping-cart text-red-400 w-8 h-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Object(l.jsx)("path",{fill:"currentColor",d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"})})},d=function(e){var t=Object(i.useContext)(o).items.reduce((function(e,t){return e+t.amount}),0);return Object(l.jsxs)("button",{className:"flex text-center",onClick:e.onClick,children:[Object(l.jsx)("span",{className:"w-8 h-8 p-3",children:Object(l.jsx)(m,{})}),Object(l.jsx)("span",{className:"p-5",children:t})]})},u=function(e){return Object(l.jsxs)("header",{className:"max-w-2xl  mx-auto justify-self-center flex justify-between items-baseline m-2",children:[Object(l.jsx)("h1",{className:"text-3xl text-yellow-900",children:"Sushi Store"}),Object(l.jsx)(d,{onClick:e.onShowCart})]})},j=(n(18),function(e){return Object(l.jsx)("div",{className:"max-w-lg mx-auto",children:e.children})}),b=n(2),x=r.a.forwardRef((function(e,t){var n=e.label,c=e.input;return Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:c.id,children:n}),Object(l.jsx)("input",Object(b.a)(Object(b.a)({ref:t},c),{},{className:"p-2 flex"}))]})})),h=function(e){var t=Object(i.useRef)(),n=Object(i.useState)(!0),c=Object(s.a)(n,2),a=c[0],r=c[1];return Object(l.jsxs)("form",{className:"flex p-5",onSubmit:function(n){n.preventDefault();var c=t.current.value,a=+c;0===c.trim().length||a<1||a>5?r(!1):e.onAddToCart(a)},children:[Object(l.jsx)(x,{ref:t,label:"Amount",input:{id:"amount_"+e.id,type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}}),Object(l.jsx)("button",{className:"text-white bg-red-400 border border-transparent shadow-sm rounded hover:bg-red-600 m-5 p-2",children:"Add"}),!a&&Object(l.jsx)("p",{children:"Please enter a valid amount (1-5)."})]})},O=function(e){var t=e.id,n=e.name,c=e.desc,a=e.price,s=Object(i.useContext)(o),r="$".concat(a.toFixed(2));return Object(l.jsxs)("li",{className:"container flex justify-between items-center p-3",children:[Object(l.jsxs)("div",{className:"pr-10 flex flex-col items-start",children:[Object(l.jsx)("h3",{className:"text-2xl font-bold",children:n}),Object(l.jsx)("div",{className:"container text-sm",children:c})]}),Object(l.jsx)("div",{className:"pl-20",children:r}),Object(l.jsx)("div",{children:Object(l.jsx)(h,{onAddToCart:function(e){s.addItem({id:t,name:n,amount:e,price:a})}})})]})},f=[{id:"s1",name:"Rolls",desc:"A Philadelphia roll is made with smoked salmon, cream cheese, and cucumber.",price:10.99},{id:"s2",name:"Ramen",desc:"A Japanese noodle soup.",price:9.99},{id:"s3",name:"Sashimi",desc:"Specialty of Japanese cuisine, fresh fish served raw.",price:20}],p=function(){return Object(l.jsx)("section",{className:"container text-center",children:Object(l.jsx)(j,{children:Object(l.jsx)("ul",{className:"flex flex-col items-baseline",children:f.map((function(e){return Object(l.jsx)(O,{id:e.id,name:e.name,desc:e.desc,price:e.price},e.id)}))})})})},v=function(){return Object(l.jsx)(p,{})},C=n(4),_=n.n(C),N=n(9),w=n.n(N),A=function(e){return Object(l.jsx)("div",{className:w.a.backdrop,onClick:e.onCloseCart})},g=function(e){return Object(l.jsx)("div",{className:w.a.modal,children:Object(l.jsx)("div",{className:w.a.content,children:e.children})})},y=document.getElementById("overlays"),I=function(e){return Object(l.jsxs)(l.Fragment,{children:[a.a.createPortal(Object(l.jsx)(A,{onCloseCart:e.onCloseCart}),y),a.a.createPortal(Object(l.jsx)(g,{children:e.children}),y)]})},k=n(5),S=n.n(k),R=function(e){var t="$".concat(e.price.toFixed(2));return Object(l.jsxs)("li",{className:S.a["cart-item"],children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:e.name}),Object(l.jsxs)("div",{className:S.a.summary,children:[Object(l.jsx)("span",{className:S.a.price,children:t}),Object(l.jsxs)("span",{className:S.a.amount,children:["x ",e.amount]})]})]}),Object(l.jsxs)("div",{className:S.a.actions,children:[Object(l.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(l.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},E=function(e){var t=Object(i.useContext)(o),n="$".concat(t.totalAmount.toFixed(2)),c=t.items.length>0,a=function(e){t.removeItem(e)},s=function(e){t.addItem(Object(b.a)(Object(b.a)({},e),{},{amount:1}))},r=Object(l.jsx)("ul",{className:_.a["cart-items"],children:t.items.map((function(e){return Object(l.jsx)(R,{name:e.name,amount:e.amount,price:e.price,onRemove:a.bind(null,e.id),onAdd:s.bind(null,e)},e.id)}))});return Object(l.jsxs)(I,{onCloseCart:e.onCloseCart,children:[r,Object(l.jsxs)("div",{className:_.a.total,children:[Object(l.jsx)("span",{children:"Total Amount"}),Object(l.jsx)("span",{children:n})]}),Object(l.jsxs)("div",{className:_.a.actions,children:[Object(l.jsx)("button",{className:_.a["button--alt"],onClick:e.onCloseCart,children:"Close"}),c&&Object(l.jsx)("button",{className:_.a.button,children:"Order"})]})]})},F=n(11),M={items:[],totalAmount:0},P=function(e,t){if("ADD"===t.type){var n,c=e.totalAmount+t.item.price*t.item.amount,a=e.items.findIndex((function(e){return e.id===t.item.id})),s=e.items[a];if(s){var i=Object(b.a)(Object(b.a)({},s),{},{amount:s.amount+t.item.amount});(n=Object(F.a)(e.items))[a]=i}else n=e.items.concat(t.item);return{items:n,totalAmount:c}}if("REMOVE"===t.type){var r,o=e.items.findIndex((function(e){return e.id===t.id})),l=e.items[o],m=e.totalAmount-l.price;if(1===l.amount)r=e.items.filter((function(e){return e.id!==t.id}));else{var d=Object(b.a)(Object(b.a)({},l),{},{amount:l.amount-1});(r=Object(F.a)(e.items))[o]=d}return{items:r,totalAmount:m}}return M},D=function(e){var t=Object(i.useReducer)(P,M),n=Object(s.a)(t,2),c=n[0],a=n[1],r={items:c.items,totalAmount:c.totalAmount,addItem:function(e){a({type:"ADD",item:e})},removeItem:function(e){a({type:"REMOVE",id:e})}};return Object(l.jsx)(o.Provider,{value:r,children:e.children})};var J=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(l.jsxs)(D,{className:"max-w-screen-lg mx-auto",children:[n&&Object(l.jsx)(E,{onCloseCart:function(){c(!1)}}),Object(l.jsx)(u,{onShowCart:function(){c(!0)}}),Object(l.jsx)("main",{children:Object(l.jsx)(v,{})})]})};a.a.render(Object(l.jsx)(J,{}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.9ae5e231.chunk.js.map