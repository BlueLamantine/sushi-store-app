{"version":3,"sources":["components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/UI/Modal.module.css","store/cart-context.js","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/UI/Card.js","components/UI/Input.js","components/Sushi/SushiItemForm.js","components/Sushi/SushiItem.js","components/Sushi/AvailableSushi.js","components/Sushi/Sushi.js","components/UI/Modal.js","components/Cart/CartItem.js","components/Cart/Cart.js","store/CartProvider.js","App.js","index.js"],"names":["module","exports","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","CartIcon","props","focusable","className","role","xmlns","viewBox","fill","d","HeaderCartButton","numberOfItems","useContext","reduce","curNumber","amount","onClick","Header","onShowCart","Card","children","Input","forwardRef","ref","label","input","htmlFor","SushiForm","amountInputRef","useRef","useState","amountIsValid","setAmountIsValid","onSubmit","event","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","length","onAddToCart","type","min","max","step","defaultValue","SushiItem","name","desc","price","cartCtx","formatPrice","toFixed","SUSHI","AvailableSushi","map","el","Sushi","Backdrop","classes","backdrop","onCloseCart","ModalOverlay","modal","content","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartItem","summary","actions","onRemove","onAdd","Cart","hasItems","cartItemRemoveHandler","cartItemAddHandler","cartItems","styles","bind","total","button","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","existingItem","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","App","cartIsShown","setCartIsShown","render"],"mappings":"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","file":"static/js/main.9ae5e231.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__3J68m\",\"total\":\"Cart_total__3swdR\",\"actions\":\"Cart_actions__1fzFz\",\"button--alt\":\"Cart_button--alt__itR_m\",\"button\":\"Cart_button__nfsoS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__P3bGi\",\"summary\":\"CartItem_summary__3inEq\",\"price\":\"CartItem_price__2Uinq\",\"amount\":\"CartItem_amount__2GGpO\",\"actions\":\"CartItem_actions__2tajg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__h8HSF\",\"modal\":\"Modal_modal__33KSp\",\"slide-down\":\"Modal_slide-down__1jldE\"};","import React from 'react';\r\n\r\nconst CartContext = React.createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  addItem: (item) => {},\r\n  removeItem: (id) => {}\r\n});\r\n\r\nexport default CartContext;\r\n","const CartIcon = props => {\r\n  return (\r\n    <svg\r\n      aria-hidden=\"true\"\r\n      focusable=\"false\"\r\n      data-prefix=\"fas\"\r\n      data-icon=\"shopping-cart\"\r\n      className=\"fa-shopping-cart text-red-400 w-8 h-8\"\r\n      role=\"img\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 576 512\"\r\n    >\r\n      <path\r\n        fill=\"currentColor\"\r\n        d=\"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z\"\r\n      ></path>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CartIcon;\r\n","import { useContext } from 'react';\r\nimport CartContext from '../../store/cart-context';\r\nimport CartIcon from '../Cart/CartIcon';\r\nconst HeaderCartButton = props => {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const numberOfItems = cartCtx.items.reduce((curNumber, item) => {\r\n    return curNumber + item.amount;\r\n  }, 0);\r\n  return (\r\n    <button className=\"flex text-center\" onClick={props.onClick}>\r\n      <span className=\"w-8 h-8 p-3\">\r\n        <CartIcon />\r\n      </span>\r\n      <span className=\"p-5\">{numberOfItems}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n","import HeaderCartButton from './HeaderCartButton';\r\nconst Header = props => {\r\n  return (\r\n    <header className=\"max-w-2xl  mx-auto justify-self-center flex justify-between items-baseline m-2\">\r\n      <h1 className=\"text-3xl text-yellow-900\">Sushi Store</h1>\r\n      <HeaderCartButton onClick={props.onShowCart} />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","const Card = props => {\r\n  return <div className=\"max-w-lg mx-auto\">{props.children}</div>;\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nconst Input = React.forwardRef(({ label, input }, ref) => {\r\n  return (\r\n    <div>\r\n      <label htmlFor={input.id}>{label}</label>\r\n      <input ref={ref} {...input} className=\"p-2 flex\" />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n","import { useRef, useState } from 'react';\r\nimport Input from '../UI/Input';\r\nconst SushiForm = props => {\r\n  const amountInputRef = useRef();\r\n  const [amountIsValid, setAmountIsValid] = useState(true);\r\n\r\n  const submitHandler = event => {\r\n    event.preventDefault();\r\n    const enteredAmount = amountInputRef.current.value;\r\n    const enteredAmountNumber = +enteredAmount;\r\n    if (\r\n      enteredAmount.trim().length === 0 ||\r\n      enteredAmountNumber < 1 ||\r\n      enteredAmountNumber > 5\r\n    ) {\r\n      setAmountIsValid(false);\r\n      return;\r\n    }\r\n\r\n    props.onAddToCart(enteredAmountNumber);\r\n  };\r\n  return (\r\n    <form className=\"flex p-5\" onSubmit={submitHandler}>\r\n      <Input\r\n        ref={amountInputRef}\r\n        label={'Amount'}\r\n        input={{\r\n          id: 'amount_' + props.id,\r\n          type: 'number',\r\n          min: '1',\r\n          max: '5',\r\n          step: '1',\r\n          defaultValue: '1',\r\n        }}\r\n      />\r\n      <button className=\"text-white bg-red-400 border border-transparent shadow-sm rounded hover:bg-red-600 m-5 p-2\">\r\n        Add\r\n      </button>\r\n      {!amountIsValid && <p>Please enter a valid amount (1-5).</p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SushiForm;\r\n","import { useContext } from 'react';\r\nimport SushiForm from './SushiItemForm';\r\nimport CartContext from '../../store/cart-context';\r\n\r\nconst SushiItem = ({ id, name, desc, price }) => {\r\n  const cartCtx = useContext(CartContext);\r\n  const formatPrice = `$${price.toFixed(2)}`;\r\n\r\n  const addToCardHandler = amount => {\r\n    cartCtx.addItem({\r\n      id: id,\r\n      name: name,\r\n      amount: amount,\r\n      price: price,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <li className=\"container flex justify-between items-center p-3\">\r\n      <div className=\"pr-10 flex flex-col items-start\">\r\n        <h3 className=\"text-2xl font-bold\">{name}</h3>\r\n        <div className=\"container text-sm\">{desc}</div>\r\n      </div>\r\n      <div className=\"pl-20\">{formatPrice}</div>\r\n      <div>\r\n        <SushiForm onAddToCart={addToCardHandler} />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default SushiItem;\r\n","import Card from '../UI/Card';\r\nimport SushiItem from './SushiItem';\r\nconst SUSHI = [\r\n  {\r\n    id: 's1',\r\n    name: 'Rolls',\r\n    desc: 'A Philadelphia roll is made with smoked salmon, cream cheese, and cucumber.',\r\n    price: 10.99,\r\n  },\r\n  {\r\n    id: 's2',\r\n    name: 'Ramen',\r\n    desc: 'A Japanese noodle soup.',\r\n    price: 9.99,\r\n  },\r\n  {\r\n    id: 's3',\r\n    name: 'Sashimi',\r\n    desc: 'Specialty of Japanese cuisine, fresh fish served raw.',\r\n    price: 20.0,\r\n  },\r\n];\r\n\r\nconst AvailableSushi = () => {\r\n  return (\r\n    <section className=\"container text-center\">\r\n      <Card>\r\n        <ul className=\"flex flex-col items-baseline\">\r\n          {SUSHI.map(el => (\r\n            <SushiItem\r\n              key={el.id}\r\n              id={el.id}\r\n              name={el.name}\r\n              desc={el.desc}\r\n              price={el.price}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AvailableSushi;\r\n","import AvailableSushi from './AvailableSushi';\r\nconst Sushi = () => {\r\n  return <AvailableSushi />;\r\n};\r\n\r\nexport default Sushi;\r\n","import ReactDOM from 'react-dom';\r\n\r\nimport classes from './Modal.module.css';\r\n\r\nconst Backdrop = props => {\r\n  return <div className={classes.backdrop} onClick={props.onCloseCart} />;\r\n};\r\n\r\nconst ModalOverlay = props => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst portalElement = document.getElementById('overlays');\r\n\r\nconst Modal = props => {\r\n  return (\r\n    <>\r\n      {ReactDOM.createPortal(\r\n        <Backdrop onCloseCart={props.onCloseCart} />,\r\n        portalElement\r\n      )}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        portalElement\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import classes from './CartItem.module.css';\r\n\r\nconst CartItem = props => {\r\n  const price = `$${props.price.toFixed(2)}`;\r\n\r\n  return (\r\n    <li className={classes['cart-item']}>\r\n      <div>\r\n        <h2>{props.name}</h2>\r\n        <div className={classes.summary}>\r\n          <span className={classes.price}>{price}</span>\r\n          <span className={classes.amount}>x {props.amount}</span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button onClick={props.onRemove}>−</button>\r\n        <button onClick={props.onAdd}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { useContext } from 'react';\r\nimport styles from './Cart.module.css';\r\nimport Modal from '../UI/Modal';\r\nimport CartContext from '../../store/cart-context';\r\nimport CartItem from './CartItem';\r\nconst Cart = props => {\r\n  const cartCtx = useContext(CartContext);\r\n  const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\r\n  const hasItems = cartCtx.items.length > 0;\r\n\r\n  const cartItemRemoveHandler = (id) => {\r\n    cartCtx.removeItem(id);\r\n  };\r\n\r\n  const cartItemAddHandler = (item) => {\r\n    cartCtx.addItem({ ...item, amount: 1 });\r\n  };\r\n  const cartItems = (\r\n    <ul className={styles['cart-items']}>\r\n      {cartCtx.items.map(item => (\r\n        <CartItem\r\n          key={item.id}\r\n          name={item.name}\r\n          amount={item.amount}\r\n          price={item.price}\r\n          onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n          onAdd={cartItemAddHandler.bind(null, item)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n  return (\r\n    <Modal onCloseCart={props.onCloseCart}>\r\n      {cartItems}\r\n      <div className={styles.total}>\r\n        <span>Total Amount</span>\r\n        <span>{totalAmount}</span>\r\n      </div>\r\n      <div className={styles.actions}>\r\n        <button className={styles['button--alt']} onClick={props.onCloseCart}>\r\n          Close\r\n        </button>\r\n        {hasItems && <button className={styles.button}>Order</button>}\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { useReducer } from 'react';\r\n\r\nimport CartContext from './cart-context';\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  if (action.type === 'ADD') {\r\n    const updatedTotalAmount =\r\n      state.totalAmount + action.item.price * action.item.amount;\r\n\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      item => item.id === action.item.id\r\n    );\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n    let updatedItems;\r\n\r\n    if (existingCartItem) {\r\n      const updatedItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount + action.item.amount,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n  if (action.type === 'REMOVE') {\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      item => item.id === action.id\r\n    );\r\n    const existingItem = state.items[existingCartItemIndex];\r\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\r\n    let updatedItems;\r\n    if (existingItem.amount === 1) {\r\n      updatedItems = state.items.filter(item => item.id !== action.id);\r\n    } else {\r\n      const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n  return defaultCartState;\r\n};\r\n\r\nconst CartProvider = props => {\r\n  const [cartState, dispatchCartAction] = useReducer(\r\n    cartReducer,\r\n    defaultCartState\r\n  );\r\n\r\n  const addItemToCartHandler = item => {\r\n    dispatchCartAction({ type: 'ADD', item: item });\r\n  };\r\n\r\n  const removeItemFromCartHandler = id => {\r\n    dispatchCartAction({ type: 'REMOVE', id: id });\r\n  };\r\n\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem: addItemToCartHandler,\r\n    removeItem: removeItemFromCartHandler,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n","import { useState } from 'react';\nimport Header from './components/Layout/Header';\nimport './App.css';\nimport Sushi from './components/Sushi/Sushi';\nimport Cart from './components/Cart/Cart';\nimport CartProvider from './store/CartProvider';\nfunction App() {\n  const [cartIsShown, setCartIsShown] = useState(false);\n\n  const showCarIstHandle = () => {\n    setCartIsShown(true);\n  };\n  const hideCarHandle = () => {\n    setCartIsShown(false);\n  };\n  return (\n    <CartProvider className=\"max-w-screen-lg mx-auto\">\n      {cartIsShown && <Cart onCloseCart={hideCarHandle} />}\n      <Header onShowCart={showCarIstHandle} />\n      <main>\n        <Sushi />\n      </main>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}